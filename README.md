# Этот репозиторий готовился для реализации на сервере Astra Linux первичного функционала сервера.
# Некоторые вещи мне  приходилось реализовыват самостоятельно в ручном режиме многократно.
# Что бы не делать больше одного и тогоже руками были написаны несколько плейбуков для ansible. 
# Однако все реализуемые функции могут быть использованы и на других системах Linux.

#- Монтирование дополнительного диска в /mnt/storage/ средствами systemd (playbook.yml)


#-------playbook.yml--------
# Этот плэйбук копирует файл mnt-storage.mount из места {{copy_file_path}} в {{dest_systemd_file}}. 
# Переменная {{create_folder_path}} указывает место куда будет смонтировано блочное устройство,
# при измененнии места потребуется соответствующим образом поменять имя файла mnt-storage.mount и его содержимое.
# Блочное устройство будет использовано для места хранения репозиториев и виртуальных машин 
#   
#  
#  
#-------playbook2.yml------
# Этот плейбук подготавливает репозитории и папку для виртуальных машин.
# - Сначало он создает папки для директорий репозиториев и виртуальных машин.
# - Копирует файлы *.mount в системню папку.
# - Создаёт директории репозиториев 
# - Копирует iso в подготовленную папку на сервере
# - Монтирует при помощи файлов *.mount ISO в соответствующие директории при помощи systemd
# - Копирует зарание подготовленный sources.list в /etc/apt
# - Делаем apt update

# Так же копируются файлы *.mount. Они будут использованы, как средство монтирования
# ISO через systemd.
#
# Переменные:
#
# {{ source_file }} - место нахождения источника для копирования файлов. 
# По этому пути лежат файлы *.mount. и sources.list
#
# {{ dest_file }} - место, куда будут скопированы файлы *.mount.
# Это место для хранения в системе по умолчанию 
#
# {{ source_iso }} - место, откуда будут скопированы файлы ISO
# 
# {{ dest_iso }} - место, куда будут скопированы файлы ISO
#
# {{ dest_mount_iso }} - место, расположение папок с будущими репозитотриямиш
#
# {{ dest_vm }} - место, для хранения файлов виртуальных машин
#
#
#
#-------playbook3.yml------
# Удостоверяемся, что следущие действия будут под пользователлем root.
# Производим upgrade системы.
#
#
#
#-------playbook4.yml------
# Проводим инсталяцию virt-manager.
# Добовляем пользователя переменной {{admin_virtmanager}} в соответсттвующие группы.
#
#

